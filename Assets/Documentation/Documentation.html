<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body {
    font-family: "Lato", sans-serif;
    paddind:0;
    margin:0;
  }
  p,ul,li{
    text-align: justify;
    font-size: 16pt;
    padding: 2px 10px;
  }
  .HeaderTitle{
    padding:10px;


  }
  .section{
    background-color: #EFE6DD;
    padding:10px 40px;
    border-bottom: black 2px solid;
    border-top:black 2px solid;
    margin:20px 0;
  }

  .sidenav {
    height: 100%;
    width: 0;
    position: fixed;
    z-index: 1;
    top: 0;
    left: 0;
    background-color: #111;
    overflow-x: hidden;
    transition: 0.5s;
    padding-top: 60px;
  }

  .sidenav a {
    padding: 8px 8px 8px 32px;
    text-decoration: none;
    font-size: 25px;
    color: #818181;
    display: block;
    transition: 0.3s;
  }

  .sidenav a:hover {
    color: #f1f1f1;
  }

  .sidenav .closebtn {
    position: absolute;
    top: 0;
    right: 25px;
    font-size: 36px;
    margin-left: 50px;
  }
  .dropdown-btn {
    padding: 8px 8px 8px 32px;
    text-decoration: none;
    font-size: 25px;
    color: #818181;
    display: block;
    border: none;
    background: none;
    width:100%;
    text-align: left;
    cursor: pointer;
    outline: none;
  }
  .dropdown-btn:hover {
    color: #f1f1f1;
  }
  /* Add an active class to the active dropdown button */
  .active {
    background-color: #530C0C;
    color: white;
  }

  /* Dropdown container (hidden by default). Optional: add a lighter background color and some left padding to change the design of the dropdown content */
  .dropdown-container {
    display: none;
    background-color: #262626;
    padding-left: 8px;
  }

  /* Optional: Style the caret down icon */
  .fa-caret-down {
    float: right;
    padding-right: 8px;
  }
  .centerImage{
    display: block;
    margin:20px auto;
    box-shadow: 10px 12px 12px black;
  }
  .menuOpenButton{
    position:fixed;
    top:20px;
    left:20px;
    color: rgba(0, 0, 0, 0.5);
  }
  .menuOpenButton:hover{
    color:white;
    background-color: rgba(0, 0, 0, 0.8);
  }

  #main {
    transition: margin-left .5s;
    padding: 0px;
  }
  table {
    border-collapse: collapse;
    border-spacing: 0;
    width: 100%;
    border: 1px solid #ddd;
    box-shadow: 10px 5px 20px black;
  }

  th, td {
    text-align: left;
    padding: 16px;
  }

  tr:nth-child(even) {
    background-color: #f2f2f2;
  }
  @media screen and (max-height: 450px) {
    .sidenav {padding-top: 15px;}
    .sidenav a {font-size: 18px;}
  }
  
  .brandImage{
    width:65%;
    display: block;
    margin:20px auto;
  }
  .responsiveImage{
    max-width:80%;
  }
</style>
<script src="https://kit.fontawesome.com/aeae8d5774.js" crossorigin="anonymous"></script>
</head>
<body>

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <a href="#ProjectOverview">Project Overview</a>
  <button class="dropdown-btn">Coding Conventions
    <i class="fa fa-caret-down"></i>
  </button>
  <div class="dropdown-container">
    <a href="#Naming">Naming</a>
    <a href="#FolderStructure">Folder Structure</a>
  </div>
  <button class="dropdown-btn">Lighting Models
    <i class="fa fa-caret-down"></i>
  </button>
  <div class="dropdown-container">
    <a href="#LambertModel">Lambert Model</a>
    <a href="#PhongModel">Phong Model</a>
    <a href="#BlinnPhongModel">Blinn-Phong Model</a>
  </div>
  <button class="dropdown-btn">Shader and Render Pipeline
    <i class="fa fa-caret-down"></i>
  </button>
  <div class="dropdown-container">
    <a href="#HowShaderPipeline">Overview</a>
    <a href="#URPShaders">URP Standard Shaders</a>
  </div>
  <button class="dropdown-btn">Examples
    <i class="fa fa-caret-down"></i>
  </button>
  <div class="dropdown-container">
    <a href="#CreateAShader">1. Creating a Shader</a>
    <a href="#BlankShaderGraph">2. Creating a blank shader graph</a>
    <a href="#BasicColorShader">3. Creating a basic color shader</a>
    <a href="#ChangeThePreview">4. How to set the shader preview</a>
    <a href="#AssigningTheShader">5. How to assign a shader to an object</a>
    <a href="#ExposeAVariable">6. How to expose a variable from the shader</a>
    <a href="#CustomDiffuseLitShader">7. Creating a custom Diffuse Lit shader</a>
  </div>
  <button class="dropdown-btn">Definitions
    <i class="fa fa-caret-down"></i>
  </button>
  <div class="dropdown-container">
    <a href="#LightingDef">Lighting</a>
    <a href="#ShaderPipeline">Shader Pipeline</a>
    <a href="#Shaders">Shaders</a>
  </div>
</div>

<div id="main">
  <span class="menuOpenButton" style="font-size:30px;cursor:pointer" onmouseover="displayMenu()" onmouseout="normalMenu()" onclick="openNav()"><i id="MenuButton"style="padding:5px;" class="fa-solid fa-bars"></i></span>
  <div>
    <img class="brandImage" src="images/brandImg.png">
  </div>
  <div class="section" id="VersionHistory">
    <h1 >Shaders Documentation</h1>
    <h1>Document Version History</h1>
    <table>
      <tr>
        <th>Version</th>
        <th>Date</th>
        <th>Change</th>
      </tr>
      <tr>
        <th>0.1</th>
        <th>January 29, 2023</th>
        <th>Creation of the document to act as a guide for supporting the project and creation of some examples</th>
      </tr>
      <tr>
        <th>0.2</th>
        <th>February 19, 2023</th>
        <th>Creation of Example 7, Addition of Lambert Lighting Model, Update to definitions</th>
      </tr>
      <tr>
        <th>0.3</th>
        <th>February 20, 2023</th>
        <th>Creation of the Lighting model section and addition of Phong and Blinn-Phong models</th>
      </tr>
    </table>
  </div>
  
  
  <div class="section" id="ProjectOverview">
    
    <h2>Project Overview</h2>
    <ul>
      <li>
        <b>Editor:</b> Unity
      </li>
      <li><b>Version:</b> 2021.3.17</li>
      <li><b>Renderer Pipeline:</b> URP(Universal Render Pipeline)</li>
      <li><b>Project Manager:</b> Michael Quinn</li>
      <li><b>Developers:</b>
        <ul>
          <li>Michael Quinn | <a target="_blank" href="https://MikeQ.dev">Portfolio</a> | <a target="_blank" href="https://DirtyCookStudio.com">Dirty Cook Studio</a></li>
        </ul>
      </li>
    </ul>
    <p>The goal of this project is to create one space for me to showcase everything I learn while researching URP and shader development.</p>
    <h4>Features</h4>
    <ul>
      <li>Working with URP</li>
      <li>Working with shaders and the Shader Graph</li>
      <li>Working with shaders in programming</li>
    </ul>

    <h4>Dependencies</h4>
    <h5>Free</h5>
    <ul>
      <li><a target="_blank" href="https://assetstore.unity.com/packages/3d/characters/animals/mammals/free-chibi-cat-165490">
        Free Chibi Cat - Ladymito
      </a></li>
    </ul>
    <h5>Paid</h5>
    <ul>
      <li></li>
    </ul>
  </div><!--End Section-->

  <!--newSection-->
  <div class="section" id="#CodingConventions">
    
    <h1>Coding Conventions</h1>
    <p>Coding conventions are extremely important and allow the code to stay in the same format no matter who developed it.
      By keeping the code format similar, we can more efficiently read and write code without comments. This section will list the coding conventions chosen for this project and can be used as a guide for what is expected within this project.
    </p>
    <h2 id="Naming">Naming Conventions</h2>

    <table>
      <tr>
        <th>Situation</th>
        <th>Naming</th>
      </tr>
      <tr>
        <th>Class Name (public, private, abstract, async)</th>
        <th>PascalCasing | "PlayerBaseState" "PlayerFreeLookState"</th>
      </tr>
      <tr>
        <th>Public fields, properties, events, methods, local functions </th>
        <th>PascalCasing | "MovementSpeed" "RotationSpeed"</th>
      </tr>
      <tr>
        <th>Private fields</th>
        <th>_camelCase | "_movementSpeed" "_rotationSpeed"</th>
      </tr>
      <tr>
        <th>Method parameters</th>
        <th>camelCase | "movementSpeed" "rotationSpeed"</th>
      </tr>
      <tr>
        <th>Method and Variable names</th>
        <th>Make method and variable names understandable even if they become long</th>
      </tr>
      
    </table>
    <h2 id="FolderStructure">Folder Structure</h2>
    <p>
      This section will help you navigate the folder structure. This first picture will show an example of the root Assets folder. At this level, these folders are separated by type. There will be folders for dependencies that will be at this level as well.
    </p>
    <img class="centerImage" src="images/CodingConventions_01.png">
    
  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="HowShaderPipeline">
    <h1>Shader and Render Pipeline</h1>
    <p>
      The shader pipeline is the many steps that encompass what the input data needs to go through before the video card renders it. Each stage handles a very specific task within the pipeline and can be modified or even replaced with custom code created in a shader language.
    </p>
    <p>
      A simple render pipeline consists of the following stages in order
    </p>
    <ul><b></b>
      <li><b>Input Assembler</b>: all of the mesh data, vertex position, UVs and normals are assembled and prepared for the next stage</li>
      <li><b>Vertex Shader</b>: This stage is where you can modify the shape of the object. This stage takes in each vertex and outputs a modified version. This stage also allows the opportunity to calculate data for the following stages</li>
      <li><b>Culling</b>: This allows you to determine if any portions of the object need to be or not be rendered. Not rendering the back side of a model or inside of a cube can save on pixel calculation. Conversely, rendering both sides of glass is required. This is the stage where rendering is determined.
      </li>
      <li><b>Rasterizer</b>: This stage takes the modified and visible geometry and converts it to pixels.</li>
      <li><b>Fragment Shade</b>: This stage takes the rasterized pixels and determines what color each pixel should be. This can be as simple as setting all the pixels one color or as complicated as creating a water or hologram effect.</li>
      <li><b>Depth Testing</b>: This stage determines the pixel’s depth from each other to be sure that the pixels closest to the camera render on top of pixels further away. This can be changed to allow you to see objects behind the model, allowing for a translucent effect.</li>
      <li><b>Blending</b>: This step allows the blending of pixels(specifically in the translucent example from the previous stage). The final stage is when the image is loaded into the back-buffer.</li>
    </ul>

    <h1>Why Scriptable Render Pipeline</h1>
    <p>
      The render pipeline is what tells the video card to execute the shader pipeline per object. Unity originally created the Built In Render Pipeline as a catchall solution for any and every need in Unity. This created a ton of overhead in its attempt to cover mobile 2D, simple 3D, and high-end cutting-edge 3D.
    </p>
    <p>
      To solve this problem, Unity created the SRP, scriptable render pipeline, as a way to allow users to create their own render pipelines adapted for their individual projects. This then became a large task for each project, so Unity created templates of scriptable render pipelines called URP, universal render pipeline, and HDRP, high definition render pipeline.
    </p>
    

  </div><!--End Section-->


  <!--new section-->
  <div class="section" id="URPShaders">
    <h1>URP Standard Shaders</h1>
    <p>
      There are three shaders that come with URP and can be used as a base when creating any other shaders. These are the Lit, Simple Lit, and Unlit shaders.
    </p>
    <ul><b></b>
      <li><b>Lit</b>: This shader replaces the standard lit shader and supports normal mapping, occlusion, metallic/specular, and transparency. This shader is useful for creating realistic physics materials like wood, rubber, metal, or skin.
      </li>
      <li><b>Simple Lit</b>: This shader replaced the mobile/diffuse shader. This shader is a lighter version of the Lit shader and does not allow realistic lighting effects.</li>
      <li><b>Unlit</b>: This shader replaced the unlit/texture shader. This is an extremely performant shader that does not allow for any lighting effects or shadows. Shadows may be baked into the texture but are never created at runtime. This shader works well for screens that can’t receive shadows because they emit light and should be seen at their full color even in complete darkness.
      </li>
      
    </ul>
    

  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="LambertModel">
    <h1>Lambert Lighting Model</h1>
    <p>
      The Lambert Lighting Model was developed in 1760 and is the simplest lighting model. The model only focuses on the direction of the face of an object and the direction of the light source. This model does not take the viewer into account and viewer angle does not change this model in anyway.
    </p>
    <p>
      In the simplest terms, calculating the intensity of the light consists of the following algorithm. <br>
      <code>
        Intensity = NormalVector.LightVector * Color * Strength
      </code>
    </p>
    
    <img class="centerImage responsiveImage" src="images/LambertLightModel.png">
    
  </div><!--End Section-->
  <!--new section-->
  <div class="section" id="PhongModel">
    <h1>Phong Lighting Model</h1>
    <p>
      The Lambert Lighting Model was good at creating a simple lighting model that would simulate basic diffuse lighting. The Phong Lighting Model takes that a step further and includes the viewer's vector to the object to simulate specular reflection. Phong uses reflection vectors between the object and the viewer to simulate the amount of light that would be reflected from the light source.
    </p>
    <p>
      This model requires cosine calculations on the angles of reflection and can be expensive.
    </p>
    
    <img class="centerImage responsiveImage" src="images/Phong.png">
    
  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="BlinnPhongModel">
    <h1>Blinn-Phong Lighting Model</h1>
    <p>
      The Blinn-Phong Lighting Model is an updated version of the Phong Model and uses a <b>Halfway Vector</b> to lower the expense of calculation. The halfway vector sits halfway between the lighting source vector and the viewer vector. This model then lets you simulate specular reflection with less resources.
    </p>
    
    <img class="centerImage responsiveImage" src="images/BlinnPhong.png">
    
  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="CreateAShader">
    <h1>1. How to create a shader with shader graph</h1>
    <p>
      Be sure that you have the shader graph package installed. Then all you need to do is right-click in your project and navigate to shader graph. From there you can choose what you want to start as a base line for creating the shader.
    </p>
    <img class="centerImage responsiveImage" src="images/Examples/1.gif">

  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="BlankShaderGraph">
    <h1>2. Working with a blank shader graph</h1>
    <p>
      Create a shader similar to <a href="#CreateAShader">1. Create a Shader</a>, but this time choose 'Blank Shader Graph'
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/2_1.gif">
    <p>
      To open the shader graph. Just double click the shader you just created or click the 'Open Shader Editor' in the inspector.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/2_2.gif">
    <p>
      To make the shader work, you need to set the 'Active Targets' which in this case, I'm setting it to 'Universal' for URP. This is going to change the nodes to set the shader up for the basic URP shader. We can then choose the base shader to build the newly created shader off of. I'm going to choose 'Unlit' for this example.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/2_3.gif">

  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="BasicColorShader">
    <h1>3. How to create a basic color shader</h1>
    <p>
      Using the unlit shader we made in <a href="#BlankShaderGraph">2. Working with a blank shader graph</a> we are going to assign a color to the shader. It's also very important that we manually *save* the shader. We can do this by clicking the 'Save Asset' button on the top left of the graph.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/3_1.gif">

  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="ChangeThePreview">
    <h1>4. How to see how the shader will look in the preview</h1>
    <p>
      To adjust the preview to reflect how the shader will look on our mesh, we can right-click the preview window and assign our desired mesh.
    </p>
    <p>
      We are going to choose 'Custom Mesh' and then choose the mesh we want. You can then rotate the preview by holding the left-mouse button and moving the mouse.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/4_1.gif">

  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="AssigningTheShader">
    <h1>5. How to assign the shader to an object</h1>
    <p>
      We can utilize shaders by creating materials. We first need to create a material, then we can assign it the shader of our choice.
    </p>
    <p>
      We can find the shader we made under 'Shader Graph' in the options.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/5_1.gif">
    <img class="centerImage  responsiveImage" src="images/Examples/5_2.gif">
    <img class="centerImage  responsiveImage" src="images/Examples/5_3.gif">

  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="ExposeAVariable">
    <h1>6. How to expose a variable from the shader to be able to set it from the material</h1>
    <p>
      So sometimes it's easier to change stuff like color from the material rather than opening and editing the shader in shader graph. We can do this by creating a variable that will hold the color. Then we assign the variable to the proper parameter in the shader.
    </p>
    <p>
      We can create variables in the shader graph throught the 'Blackboard' window. To create a variable for color, we are going to click the plus button and then choose color.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/6_1.gif">
    <p>
      We then just need to drag the variable into the shader graph and then connect it to the appropriate spot.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/6_2.gif">
    <p>
      In the graph inspector, we can change the name and settings, but most importantly we can choose to expose the variable. When a variable is exposed, it can be changed by the material using that shader. You can easily tell if a variable is exposed by if the variable has a green dot next to its name. <bold>Remeber to save</bold>
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/6_3.gif">
    <p>
      Now we should be able to set the base color from the material instead of inside the shader graph.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/6_4.gif">


  </div><!--End Section-->

  <!--new section-->
  <div class="section" id="CustomDiffuseLitShader">
    <h1>7. How to create a custom diffuse lit shader</h1>
    <p>
      This section will step you through creating a custom diffuse lit shader using the Lambert Lighting Model and equation.
    </p>
    <p>
      First I’m going to create a new unlit shader for URP. Then I’m going to change the preview model to the current model I’m working with.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_1.gif">
    <img class="centerImage  responsiveImage" src="images/Examples/7_2.gif">
    <p>
      Now we will need to create some shader variables for the equation. These will be a Color variable for the color, a Vector3 variable for the light source, and a float variable for the strength.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_3.gif">
    <p>
      Next we will need to get the Normal Vector of the object and use the Dot Product node to calculate the dot product of the normal vector and the light source vector.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_4.gif">
    <p>
      To make this easier to see in the shader graph, I’m going to assign a value to both the Color and LightSource variables.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_5.gif">
    <p>
      At any point, you can also connect the current node to the Base Color section of the master stack to see how the shader will look on the selected model.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_6.gif">
    <p>
      We then need to create a multiply node to multiply the dot product by the color. Then we create another multiply node to multiply that by the strength variable.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_7.gif">
    <p>
      After all that we can then connect the final product to the base color section of the master stack.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_8.gif">
    <p>
      After we create a new material, assign the shader, and attach that material to an object in our scene we can now adjust every variable in the inspector for our custom diffuse shader.
    </p>
    <img class="centerImage  responsiveImage" src="images/Examples/7_9.gif">
    

  </div><!--End Section-->


  <!--new section-->
  <!-- <li><b>Term</b>: Definition</li> -->
  <div class="section" id="Definitions">
    <h1>Definitions</h1>
    <p>
      A non alphabetical grouping of all the terminology explained.
    </p>
    <h2 id="LightingDef">Lighting</h2>
    <ul>
      <li><b>Ambient Light</b>: Background light that doesn't come from any specific source.</li>
      <li><b>Diffuse Light</b>: When light, coming from a light source, illuminates object geometry. This gives the object depth and volume.</li>
      <li><b>Specular Light</b>: When light, coming from a light source, bounces off a surface and back towards the viewer. This gives the perception of shiny objects</li>
    </ul>
    <h2 id="ShaderPipeline">Shader Pipeline</h2>
    <ul><b></b>
      <li><b>Back-Buffer</b>: an image that the user won't see but is where video cards draw objects. This keeps unfinished results from being viewed by the user</li>
      <li><b>Front-Buffer</b>: the image that the user does see. This image is the finished results from the back-buffer.</li>
    </ul>
    <h2 id="Shaders">Shaders</h2>
    <ul><b></b>
      <li><b>Shader</b>: a program coded in a video card language to affect the way an object is rendered.</li>
      <li><b>DirectX</b>: a graphics library</li>
      <li><b>Vulcan</b>: a graphics library</li>
      <li><b>OpenGL</b>: a graphics library</li>
      <li><b>HLSL</b>: High-Level Shader Language, the DirectX shading language with support for Vulcan</li>
      <li><b>GLSL</b>: OpenGL Shading Language, the OpenGL shading language with support for Vulcan</li>
      <li><b>CG</b>: C for Graphics, a shading language that can output either HLSL or GLSL </li>
      <li><b>Shader Graph</b>: a visual language for creating shaders in Unity that will automatically output in HLSL or GLSL based on the project and build settings.</li>
    </ul>

  </div><!--End Section-->

<!--/Sections-->
</div>



<script>
function openNav() {
  document.getElementById("mySidenav").style.width = "250px";
  document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
  document.getElementById("mySidenav").style.width = "0";
  document.getElementById("main").style.marginLeft= "0";
}
var menuButton = document.getElementById("MenuButton");
function displayMenu(){
  menuButton.textContent = ' Menu  ';
}
function normalMenu(){
  menuButton.textContent = ''
}
</script>
<script>
/* Loop through all dropdown buttons to toggle between hiding and showing its dropdown content - This allows the user to have multiple dropdowns without any conflict */
var dropdown = document.getElementsByClassName("dropdown-btn");
var i;

for (i = 0; i < dropdown.length; i++) {
  dropdown[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var dropdownContent = this.nextElementSibling;
    if (dropdownContent.style.display === "block") {
      dropdownContent.style.display = "none";
    } else {
      dropdownContent.style.display = "block";
    }
  });
}
</script>
   
</body>
</html>